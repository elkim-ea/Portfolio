# k8s/db-secret.yaml (최종 수정안: data 필드 + Base64)

apiVersion: v1
kind: Secret
metadata:
  name: matcha-db-credentials
type: Opaque
data:
  # ❗ Base64 인코딩: 1234 -> MTIzNA==
  
  # MariaDB Docker Entrypoint 초기화 변수
  MARIADB_DATABASE: "bWF0Y2hhX3dvcmxkX3Byb2RfZGI=" # matcha_world_prod_db
  MARIADB_USER: "bWF0Y2hhX3VzZXI="               # matcha_user
  MARIADB_PASSWORD: "MTIzNA=="                  # 1234
  
  # ✅ 필수 추가: Root 비밀번호를 명시해야 Pod가 안정적으로 시작됩니다.
  MARIADB_ROOT_PASSWORD: "MTIzNA=="             # 1234

  # 백엔드에서 참조할 키
  SPRING_DATASOURCE_USERNAME: "bWF0Y2hhX3VzZXI="
  SPRING_DATASOURCE_PASSWORD: "MTIzNA=="